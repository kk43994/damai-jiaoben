# ğŸ“¥ ä¾èµ–ä¸‹è½½æŒ‡å—

> **ç‰ˆæœ¬**: v2.2
> **æ›´æ–°æ—¥æœŸ**: 2025-11-17

---

## ğŸ¯ ä¸¤ç§è·å–æ–¹å¼

### æ–¹å¼ä¸€ï¼šè‡ªåŠ¨ä¸‹è½½è„šæœ¬ï¼ˆæ¨èï¼‰â­

**ä¼˜ç‚¹**ï¼š
- âœ… ä¸€é”®è‡ªåŠ¨ä¸‹è½½æ‰€æœ‰ç»„ä»¶
- âœ… è‡ªåŠ¨è§£å‹åˆ°æ­£ç¡®ä½ç½®
- âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… é€‚åˆç½‘ç»œæ¡ä»¶å¥½çš„ç”¨æˆ·

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. åŒå‡»è¿è¡Œ `scripts\è‡ªåŠ¨ä¸‹è½½ä¾èµ–.bat`
2. ç­‰å¾…ä¸‹è½½å®Œæˆï¼ˆçº¦5-15åˆ†é’Ÿï¼Œå–å†³äºç½‘é€Ÿï¼‰
3. ä¸‹è½½å®Œæˆåï¼Œè¿è¡Œ `scripts\ä¸€é”®é…ç½®.bat`

**ä¸‹è½½å†…å®¹**ï¼š
- Python 3.11 ä¾¿æºç‰ˆ (~25MB)
- Node.js 20.x ä¾¿æºç‰ˆ (~50MB)
- Android SDK Platform Tools (~10MB)
- Appium Settings APK (~5MB)
- UIAutomator2 Server APK (~2MB)

**æ€»ä¸‹è½½é‡**: çº¦ 90-100MB

---

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨ä¸‹è½½æ¸…å•

**ä¼˜ç‚¹**ï¼š
- âœ… å¯é€‰æ‹©å›½å†…é•œåƒæºï¼ˆæ›´å¿«ï¼‰
- âœ… å¯æ–­ç‚¹ç»­ä¼ 
- âœ… é€‚åˆç½‘ç»œä¸ç¨³å®šçš„ç”¨æˆ·

---

## ğŸ“¦ æ‰‹åŠ¨ä¸‹è½½è¯¦ç»†æ¸…å•

### 1. Python 3.11 ä¾¿æºç‰ˆ

#### å®˜æ–¹ä¸‹è½½
```
URL: https://www.python.org/ftp/python/3.11.9/python-3.11.9-embed-amd64.zip
æ–‡ä»¶å: python-3.11.9-embed-amd64.zip
å¤§å°: ~25MB
```

#### å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰
```
æ·˜å®é•œåƒ:
https://registry.npmmirror.com/-/binary/python/3.11.9/python-3.11.9-embed-amd64.zip

åä¸ºé•œåƒ:
https://repo.huaweicloud.com/python/3.11.9/python-3.11.9-embed-amd64.zip
```

#### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `python-3.11.9-embed-amd64.zip`
2. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `python-portable` æ–‡ä»¶å¤¹
3. è§£å‹ZIPåˆ° `python-portable\` ç›®å½•
4. éªŒè¯ï¼š`python-portable\python.exe` æ–‡ä»¶å­˜åœ¨

---

### 2. Node.js 20.x ä¾¿æºç‰ˆ

#### å®˜æ–¹ä¸‹è½½
```
URL: https://nodejs.org/dist/v20.11.1/node-v20.11.1-win-x64.zip
æ–‡ä»¶å: node-v20.11.1-win-x64.zip
å¤§å°: ~50MB
```

#### å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰
```
æ·˜å®é•œåƒ:
https://registry.npmmirror.com/-/binary/node/v20.11.1/node-v20.11.1-win-x64.zip

åä¸ºé•œåƒ:
https://repo.huaweicloud.com/nodejs/v20.11.1/node-v20.11.1-win-x64.zip
```

#### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `node-v20.11.1-win-x64.zip`
2. è§£å‹ZIP
3. å°†è§£å‹åçš„ `node-v20.11.1-win-x64` æ–‡ä»¶å¤¹é‡å‘½åä¸º `nodejs-portable`
4. ç§»åŠ¨åˆ°é¡¹ç›®æ ¹ç›®å½•
5. éªŒè¯ï¼š`nodejs-portable\node.exe` æ–‡ä»¶å­˜åœ¨

---

### 3. Android SDK Platform Tools

#### å®˜æ–¹ä¸‹è½½
```
URL: https://dl.google.com/android/repository/platform-tools-latest-windows.zip
æ–‡ä»¶å: platform-tools-latest-windows.zip
å¤§å°: ~10MB
```

#### å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰
```
AndroidDevTools:
https://www.androiddevtools.cn/

é˜¿é‡Œäº‘é•œåƒ:
https://mirrors.aliyun.com/android.googlesource.com/platform/prebuilts/fullsdk-windows/tools/
```

#### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `platform-tools-latest-windows.zip`
2. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `android-sdk-tools` æ–‡ä»¶å¤¹
3. è§£å‹ZIPåˆ° `android-sdk-tools\` ç›®å½•
4. éªŒè¯ï¼š`android-sdk-tools\platform-tools\adb.exe` æ–‡ä»¶å­˜åœ¨

---

### 4. Appium Settings APK

#### å®˜æ–¹ä¸‹è½½
```
GitHub Releases:
https://github.com/appium/io.appium.settings/releases

æ¨èç‰ˆæœ¬: v5.0.0
ç›´æ¥ä¸‹è½½:
https://github.com/appium/io.appium.settings/releases/download/v5.0.0/settings_apk-debug.apk

æ–‡ä»¶å: settings_apk-debug.apk
å¤§å°: ~5MB
```

#### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `settings_apk-debug.apk`
2. é‡å‘½åä¸º `appium-settings.apk`
3. æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•
4. éªŒè¯ï¼šé¡¹ç›®æ ¹ç›®å½•æœ‰ `appium-settings.apk` æ–‡ä»¶

---

### 5. UIAutomator2 Server APK

#### å®˜æ–¹ä¸‹è½½
```
GitHub Releases:
https://github.com/appium/appium-uiautomator2-server/releases

æ¨èç‰ˆæœ¬: v6.0.0
ç›´æ¥ä¸‹è½½:
https://github.com/appium/appium-uiautomator2-server/releases/download/v6.0.0/appium-uiautomator2-server-v6.0.0.apk

æ–‡ä»¶å: appium-uiautomator2-server-v6.0.0.apk
å¤§å°: ~2MB
```

#### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `appium-uiautomator2-server-v6.0.0.apk`
2. é‡å‘½åä¸º `io.appium.uiautomator2.server.apk`
3. æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•
4. éªŒè¯ï¼šé¡¹ç›®æ ¹ç›®å½•æœ‰ `io.appium.uiautomator2.server.apk` æ–‡ä»¶

---

## ğŸ“‚ æœ€ç»ˆç›®å½•ç»“æ„

ä¸‹è½½å¹¶è§£å‹åï¼Œé¡¹ç›®ç›®å½•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

```
ticket-purchase/
â”œâ”€â”€ python-portable/              â† Pythonä¾¿æºç‰ˆ
â”‚   â”œâ”€â”€ python.exe
â”‚   â”œâ”€â”€ python311.dll
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ nodejs-portable/              â† Node.jsä¾¿æºç‰ˆ
â”‚   â”œâ”€â”€ node.exe
â”‚   â”œâ”€â”€ npm
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ android-sdk-tools/            â† Android SDKå·¥å…·
â”‚   â””â”€â”€ platform-tools/
â”‚       â”œâ”€â”€ adb.exe
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ appium-settings.apk           â† Appium Settings APK
â”œâ”€â”€ io.appium.uiautomator2.server.apk  â† UIAutomator2 Server APK
â”‚
â”œâ”€â”€ scripts/                      â† è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ è‡ªåŠ¨ä¸‹è½½ä¾èµ–.bat
â”‚   â”œâ”€â”€ ä¸€é”®é…ç½®.bat
â”‚   â”œâ”€â”€ ä¸€é”®å¯åŠ¨.bat
â”‚   â””â”€â”€ çº¢æ‰‹æŒ‡é…ç½®.bat
â”‚
â””â”€â”€ damai_appium/                 â† é¡¹ç›®ä»£ç 
    â””â”€â”€ ...
```

---

## ğŸ Pythonä¾èµ–åŒ…å®‰è£…

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¸€é”®é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

å®Œæˆä¸Šè¿°ç»„ä»¶ä¸‹è½½åï¼š
```batch
åŒå‡»è¿è¡Œ: scripts\ä¸€é”®é…ç½®.bat
```

è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š
```bash
python -m pip install -r requirements.txt
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨pipç›´æ¥å®‰è£…
pip install -r requirements.txt

# æ–¹æ³•2ï¼šä½¿ç”¨å›½å†…é•œåƒæºï¼ˆæ›´å¿«ï¼‰
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# æ–¹æ³•3ï¼šé€ä¸ªå®‰è£…
pip install appium-python-client==3.1.1
pip install paddleocr==2.7.3
pip install paddlepaddle==2.6.0
pip install opencv-python==4.8.1.78
pip install Pillow==10.1.0
```

### requirements.txt å†…å®¹

```txt
# Appiumå®¢æˆ·ç«¯
appium-python-client==3.1.1

# OCRè¯†åˆ«
paddleocr==2.7.3
paddlepaddle==2.6.0

# å›¾åƒå¤„ç†
opencv-python==4.8.1.78
Pillow==10.1.0

# å…¶ä»–å·¥å…·
requests>=2.31.0
```

---

## ğŸ”§ Appiumå’Œé©±åŠ¨å®‰è£…

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¸€é”®é…ç½®è„šæœ¬

```batch
åŒå‡»è¿è¡Œ: scripts\ä¸€é”®é…ç½®.bat
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
set PATH=%CD%\nodejs-portable;%PATH%

# 2. å®‰è£…Appiumï¼ˆå…¨å±€ï¼‰
npm install -g appium

# 3. å®‰è£…UiAutomator2é©±åŠ¨
appium driver install uiautomator2

# 4. éªŒè¯å®‰è£…
appium --version
appium driver list
```

### ä½¿ç”¨å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰

```bash
# é…ç½®npmä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# å®‰è£…Appium
npm install -g appium

# å®‰è£…é©±åŠ¨
appium driver install uiautomator2
```

---

## âœ… å®‰è£…éªŒè¯

### è¿è¡Œç¯å¢ƒæ£€æŸ¥å™¨

```bash
python environment_checker.py
```

### æ‰‹åŠ¨éªŒè¯

```bash
# éªŒè¯Python
python --version
# åº”è¾“å‡º: Python 3.11.9

# éªŒè¯Node.js
node --version
# åº”è¾“å‡º: v20.11.1

# éªŒè¯npm
npm --version
# åº”è¾“å‡º: 10.x.x

# éªŒè¯ADB
adb version
# åº”è¾“å‡º: Android Debug Bridge version x.x.x

# éªŒè¯Appium
appium --version
# åº”è¾“å‡º: 2.x.x

# éªŒè¯Appiumé©±åŠ¨
appium driver list
# åº”æ˜¾ç¤º: uiautomator2@x.x.x [installed]
```

---

## ğŸŒ å›½å†…é•œåƒæºæ¨è

### Pythoné•œåƒæº

```bash
# æ¸…åå¤§å­¦é•œåƒ
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple

# é˜¿é‡Œäº‘é•œåƒ
pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/

# ä¸­å›½ç§‘æŠ€å¤§å­¦é•œåƒ
pip config set global.index-url https://pypi.mirrors.ustc.edu.cn/simple/
```

### npmé•œåƒæº

```bash
# æ·˜å®é•œåƒï¼ˆæ¨èï¼‰
npm config set registry https://registry.npmmirror.com

# åä¸ºé•œåƒ
npm config set registry https://repo.huaweicloud.com/repository/npm/

# è…¾è®¯é•œåƒ
npm config set registry https://mirrors.cloud.tencent.com/npm/
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ

**A:** ä½¿ç”¨å›½å†…é•œåƒæºï¼š
- Pythonç»„ä»¶ï¼šä½¿ç”¨æ·˜å®é•œåƒæˆ–åä¸ºé•œåƒ
- Node.jsç»„ä»¶ï¼šä½¿ç”¨æ·˜å®é•œåƒæˆ–åä¸ºé•œåƒ
- pipåŒ…ï¼šé…ç½®æ¸…åæˆ–é˜¿é‡Œäº‘é•œåƒ
- npmåŒ…ï¼šé…ç½®æ·˜å®é•œåƒ

### Q2: GitHubä¸‹è½½APKå¾ˆæ…¢ï¼Ÿ

**A:** ä½¿ç”¨é•œåƒç«™ï¼š
```
GitHubé•œåƒç«™:
https://ghproxy.com/
https://mirror.ghproxy.com/

ä½¿ç”¨æ–¹æ³•ï¼š
å°†GitHub URLå‰ç¼€æ”¹ä¸ºé•œåƒç«™åœ°å€
ä¾‹å¦‚ï¼š
https://ghproxy.com/https://github.com/appium/io.appium.settings/releases/...
```

### Q3: è‡ªåŠ¨ä¸‹è½½è„šæœ¬å¤±è´¥ï¼Ÿ

**A:** å¯èƒ½åŸå› ï¼š
1. ç½‘ç»œè¿æ¥é—®é¢˜ â†’ æ£€æŸ¥ç½‘ç»œï¼Œä½¿ç”¨æ‰‹åŠ¨ä¸‹è½½
2. curlå‘½ä»¤ä¸å¯ç”¨ â†’ å‡çº§Windows 10æˆ–æ‰‹åŠ¨ä¸‹è½½
3. é˜²ç«å¢™é˜»æ­¢ â†’ æš‚æ—¶å…³é—­é˜²ç«å¢™æˆ–æ·»åŠ ç™½åå•

### Q4: è§£å‹å¤±è´¥ï¼Ÿ

**A:**
- ç¡®ä¿æœ‰è¶³å¤Ÿç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘2GBï¼‰
- ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œè„šæœ¬
- æ‰‹åŠ¨è§£å‹ZIPæ–‡ä»¶åˆ°å¯¹åº”ç›®å½•

### Q5: pip installå¤±è´¥ï¼Ÿ

**A:** å¸¸è§è§£å†³æ–¹æ¡ˆï¼š
```bash
# 1. å‡çº§pip
python -m pip install --upgrade pip

# 2. ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# 3. å¿½ç•¥SSLéªŒè¯ï¼ˆä¸æ¨èï¼Œä»…ä½œä¸ºæœ€åæ‰‹æ®µï¼‰
pip install -r requirements.txt --trusted-host pypi.tuna.tsinghua.edu.cn
```

### Q6: npm install -g appiumå¤±è´¥ï¼Ÿ

**A:**
```bash
# 1. ä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com

# 2. æ¸…é™¤ç¼“å­˜
npm cache clean --force

# 3. é‡æ–°å®‰è£…
npm install -g appium
```

---

## ğŸ“ è·å–å¸®åŠ©

### ä¸‹è½½é—®é¢˜
- æŸ¥çœ‹æœ¬æ–‡æ¡£çš„å›½å†…é•œåƒæºéƒ¨åˆ†
- æŸ¥çœ‹å¸¸è§é—®é¢˜è§£ç­”

### å®‰è£…é—®é¢˜
- è¿è¡Œç¯å¢ƒæ£€æŸ¥å™¨ï¼š`python environment_checker.py`
- æŸ¥çœ‹ï¼š`docs/guides/å®Œæ•´å®‰è£…æ•™ç¨‹_å°ç™½ç‰ˆ.md`

### é…ç½®é—®é¢˜
- æŸ¥çœ‹ï¼š`PORTABLE_PACKAGE_GUIDE.md`
- æŸ¥çœ‹ï¼š`docs/guides/è¯¦ç»†ä½¿ç”¨æ•™ç¨‹_GUIæ“ä½œæŒ‡å—.md`

---

## ğŸ‰ ä¸‹è½½å®Œæˆå

è¿è¡Œä»¥ä¸‹è„šæœ¬å®Œæˆé…ç½®ï¼š

1. **é¦–æ¬¡é…ç½®**: `scripts\ä¸€é”®é…ç½®.bat`
2. **å¯åŠ¨ç¨‹åº**: `scripts\ä¸€é”®å¯åŠ¨.bat`
3. **çº¢æ‰‹æŒ‡è¿æ¥**: `scripts\çº¢æ‰‹æŒ‡é…ç½®.bat`

è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯·æŸ¥çœ‹ï¼š`docs/guides/è¯¦ç»†ä½¿ç”¨æ•™ç¨‹_GUIæ“ä½œæŒ‡å—.md`

---

**ğŸ“… æ–‡æ¡£ç‰ˆæœ¬**: v2.2
**ğŸ“ æ›´æ–°æ—¥æœŸ**: 2025-11-17
**ğŸ‘¤ ç»´æŠ¤è€…**: Claude Code
