# å¤§éº¦æŠ¢ç¥¨è‡ªåŠ¨åŒ–ç³»ç»Ÿ

> **ç‰ˆæœ¬**: v2.1.0  
> **æœ€åæ›´æ–°**: 2025-11-17  
> **çŠ¶æ€**: âœ… ç¨³å®šç‰ˆæœ¬ | æµ‹è¯•é€šè¿‡ç‡: 100%  
> **æäº¤**: b07cb05 â†’ 890b14e

ä¸€ä¸ªåŸºäºSeleniumå’ŒAppiumçš„å¤§éº¦ç½‘æŠ¢ç¥¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ”¯æŒWebç«¯å’Œç§»åŠ¨ç«¯æŠ¢ç¥¨ã€‚

## ğŸ“‘ å¿«é€Ÿå¯¼èˆª

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ç³»ç»Ÿè¦æ±‚](#-ç³»ç»Ÿè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [ç‰ˆæœ¬æ›´æ–°](#-ç‰ˆæœ¬æ›´æ–°)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **æ™ºèƒ½æŠ¢ç¥¨** - è‡ªåŠ¨é€‰æ‹©åŸå¸‚ã€ç¥¨ä»·ã€åœºæ¬¡ã€è§‚æ¼”äººå‘˜
- âœ… **åŒç«¯æ”¯æŒ** - Webç«¯(Selenium) + ç§»åŠ¨ç«¯(Appium)
- âœ… **è‡ªåŠ¨ä¿®å¤** - è¿æ¥è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤(Appium/ADB/WebDriver)
- âœ… **GUIç•Œé¢** - å›¾å½¢åŒ–æ“ä½œç•Œé¢ï¼Œç®€å•æ˜“ç”¨
- âœ… **OCRè¯†åˆ«** - PaddleOCRæ–‡å­—è¯†åˆ«è¾…åŠ©å†³ç­–
- âœ… **æ™ºèƒ½ç­‰å¾…** - ä¼˜åŒ–ç­‰å¾…ç­–ç•¥ï¼Œæå‡æ‰§è¡Œæ•ˆç‡

### æ€§èƒ½æŒ‡æ ‡
- âš¡ WebDriverè¿æ¥: **4.66ç§’**
- âš¡ å®Œæ•´æŠ¢ç¥¨æµç¨‹: **123ç§’** (11æ­¥éª¤)
- âœ… æˆåŠŸç‡: **100%**
- ğŸ“¦ æ ¸å¿ƒä»£ç : **8ä¸ªæ–‡ä»¶** (ç²¾ç®€æ¶æ„)

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **Python**: 3.9+
- **æ“ä½œç³»ç»Ÿ**: Windows / macOS / Linux

### ç§»åŠ¨ç«¯æŠ¢ç¥¨ï¼ˆå¿…éœ€ï¼‰
- **Android SDK**: å·²é…ç½®ç¯å¢ƒå˜é‡
- **Appium**: 3.1.0+
- **Androidè®¾å¤‡**: çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨
- **ADBå·¥å…·**: å·²é…ç½®PATH

### å¯é€‰ç»„ä»¶
- **Node.js**: 20.19.0+ (è¿è¡ŒAppium Server)
- **PaddleOCR**: æ–‡å­—è¯†åˆ«æ”¯æŒ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/kk43994/damai-jiaoben.git
cd damai-jiaoben
```

### 2. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨pipå®‰è£…
pip install -r requirements.txt

# æˆ–ä½¿ç”¨Poetryï¼ˆæ¨èï¼‰
poetry install
```

### 3. é…ç½®æ–‡ä»¶
å¤åˆ¶é…ç½®ç¤ºä¾‹å¹¶ä¿®æ”¹ï¼š
```bash
cp damai_appium/config.jsonc.example damai_appium/config.jsonc
```

ç¼–è¾‘ `config.jsonc` å¡«å…¥æ¼”å‡ºä¿¡æ¯ï¼š
```jsonc
{
  "server_url": "http://127.0.0.1:4723",
  "keyword": "æ¼”å‡ºåç§°",
  "city": "åŸå¸‚",
  "date": "æ—¥æœŸ",
  "price": "ç¥¨ä»·"
}
```

### 4. å¯åŠ¨Appium
```bash
# Windows
start_appium.bat

# macOS/Linux
appium --address 127.0.0.1 --port 4723 --allow-cors
```

### 5. è¿è¡ŒGUI
```bash
python damai_smart_ai.py
```

---

## ğŸ“± ä½¿ç”¨æŒ‡å—

### GUIæ“ä½œæµç¨‹

1. **è¿æ¥è®¾å¤‡**
   - ç‚¹å‡»"åˆ·æ–°è®¾å¤‡"æ£€æµ‹å·²è¿æ¥è®¾å¤‡
   - æˆ–æ‰‹åŠ¨è¾“å…¥ADBç«¯å£
   - ç‚¹å‡»"è¿æ¥è®¾å¤‡"

2. **é…ç½®æŠ¢ç¥¨å‚æ•°**
   - å¡«å†™æ¼”å‡ºå…³é”®è¯
   - é€‰æ‹©åŸå¸‚
   - è®¾ç½®æ—¥æœŸã€ç¥¨ä»·ç­‰

3. **å¼€å§‹æŠ¢ç¥¨**
   - ç‚¹å‡»"å¼€å§‹æŠ¢ç¥¨"
   - è§‚å¯Ÿæ—¥å¿—è¾“å‡º
   - ç­‰å¾…æµç¨‹å®Œæˆ

### å‘½ä»¤è¡Œä½¿ç”¨

```python
from damai_appium import DamaiBot, Config

# åŠ è½½é…ç½®
config = Config.from_file("damai_appium/config.jsonc")

# åˆ›å»ºBotå®ä¾‹
bot = DamaiBot(config)

# æ‰§è¡ŒæŠ¢ç¥¨
bot.run()
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
damai-jiaoben/
â”œâ”€â”€ damai_appium/              # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ damai_app_v2.py       # æ ¸å¿ƒBot (v2.0)
â”‚   â”œâ”€â”€ config.py             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ device_manager.py     # è®¾å¤‡ç®¡ç†å™¨
â”‚   â””â”€â”€ config.jsonc          # é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ damai_smart_ai.py         # GUIä¸»ç¨‹åº
â”œâ”€â”€ connection_auto_fixer.py  # è¿æ¥è‡ªåŠ¨ä¿®å¤
â”œâ”€â”€ environment_checker.py    # ç¯å¢ƒæ£€æŸ¥å™¨
â”œâ”€â”€ smart_wait.py             # æ™ºèƒ½ç­‰å¾…æ¨¡å—
â”‚
â”œâ”€â”€ pyproject.toml            # é¡¹ç›®é…ç½®
â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–
â”œâ”€â”€ CHANGELOG.md              # æ›´æ–°æ—¥å¿—
â””â”€â”€ README_VERSION.md         # ç‰ˆæœ¬ä¿¡æ¯
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | å¤§å° | åŠŸèƒ½æè¿° |
|------|------|---------|
| `damai_app_v2.py` | 87KB | æ ¸å¿ƒBotå®ç°ï¼ŒåŒ…å«å®Œæ•´æŠ¢ç¥¨æµç¨‹ |
| `damai_smart_ai.py` | 236KB | GUIä¸»ç¨‹åºï¼Œæä¾›å›¾å½¢åŒ–æ“ä½œç•Œé¢ |
| `connection_auto_fixer.py` | 21KB | è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤è¿æ¥é—®é¢˜ |
| `smart_wait.py` | 15KB | æ™ºèƒ½ç­‰å¾…ç­–ç•¥ä¼˜åŒ– |
| `device_manager.py` | 4KB | è®¾å¤‡ç®¡ç†å’Œæ£€æµ‹ |

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°

### v2.1.0 (2025-11-17) - å½“å‰ç‰ˆæœ¬

#### âœ¨ æ–°å¢åŠŸèƒ½
- è¿æ¥è‡ªåŠ¨ä¿®å¤å·¥å…· - è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤Appium/ADB/WebDriverè¿æ¥
- æ™ºèƒ½ç­‰å¾…æ¨¡å— - ä¼˜åŒ–ç­‰å¾…ç­–ç•¥ï¼Œæå‡æ‰§è¡Œæ•ˆç‡
- ç®€åŒ–ç‰ˆè®¾å¤‡ç®¡ç†å™¨ - ä¸ºGUIæä¾›è®¾å¤‡ç®¡ç†æ”¯æŒ

#### ğŸ—‘ï¸ é‡å¤§æ¸…ç†
- åˆ é™¤83ä¸ªåºŸå¼ƒæ–‡ä»¶ï¼ˆçº¦1.5MBï¼‰
- åˆ é™¤æœªä½¿ç”¨çš„v3.0æ¨¡å—ï¼ˆ10ä¸ªæ–‡ä»¶ï¼‰
- åˆ é™¤examplesç¤ºä¾‹ç›®å½•ï¼ˆ25ä¸ªè„šæœ¬ï¼‰
- åˆ é™¤testsæµ‹è¯•ç›®å½•ï¼ˆ8ä¸ªæ–‡ä»¶ï¼‰
- åˆ é™¤archiveå½’æ¡£ç›®å½•ï¼ˆ27ä¸ªæ—§æµ‹è¯•ï¼‰

#### ğŸ”§ æ¶æ„ä¼˜åŒ–
- ä»v3.0å›é€€åˆ°ç¨³å®šçš„v2.0æ¶æ„
- æ ¸å¿ƒä»£ç ä»73ä¸ªæ–‡ä»¶ç²¾ç®€è‡³8ä¸ªæ–‡ä»¶
- ç§»é™¤æµ‹è¯•é…ç½®ï¼Œç®€åŒ–é¡¹ç›®ç»“æ„

#### âœ… æµ‹è¯•éªŒè¯
- å®Œæ•´æŠ¢ç¥¨æµç¨‹æµ‹è¯•é€šè¿‡ï¼ˆ11æ­¥éª¤ï¼‰
- æˆåŠŸç‡: 100%
- æ€»è€—æ—¶: 123.39ç§’

è¯¦ç»†æ›´æ–°è®°å½•è¯·æŸ¥çœ‹ [CHANGELOG.md](./CHANGELOG.md)

---

## ğŸ¯ æµ‹è¯•çŠ¶æ€

| æµ‹è¯•æ­¥éª¤ | çŠ¶æ€ | è€—æ—¶ | æˆåŠŸç‡ |
|---------|------|------|--------|
| å¯åŠ¨å¤§éº¦App | âœ… | 7.89s | 100% |
| å¤„ç†é¦–é¡µå¼¹çª— | âœ… | 3.43s | 100% |
| åŸå¸‚åˆ‡æ¢ | âœ… | 16.35s | 100% |
| æ‰“å¼€æœç´¢æ¡† | âœ… | 9.85s | 100% |
| æœç´¢å…³é”®è¯ | âœ… | 12.00s | 100% |
| ç‚¹å‡»æœç´¢ç»“æœ | âœ… | 10.52s | 100% |
| è¿›å…¥æ¼”å‡ºè¯¦æƒ… | âœ… | 15.90s | 100% |
| ç¥¨æ¡£é€‰æ‹©æŒ‰é’® | âœ… | 4.42s | 100% |
| ç«‹å³æŠ¢ç¥¨ | âœ… | 37.14s | 100% |
| åœºæ¬¡ç¥¨æ¡£é€‰æ‹© | âœ… | 4.19s | 100% |
| è§‚æ¼”äººå¤„ç† | âœ… | 1.70s | 100% |
| **æ€»è®¡** | **âœ…** | **123.39s** | **100%** |

---

## âš™ï¸ é«˜çº§é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# Android SDKè·¯å¾„
export ANDROID_HOME=/path/to/android-sdk
export ANDROID_SDK_ROOT=$ANDROID_HOME

# æ·»åŠ åˆ°PATH
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/tools
```

### Appiumé…ç½®

```bash
# åŸºç¡€é…ç½®
appium --address 127.0.0.1 --port 4723 --allow-cors

# é«˜çº§é…ç½®ï¼ˆæ—¥å¿—ã€æ€§èƒ½ä¼˜åŒ–ï¼‰
appium --address 127.0.0.1 --port 4723 --allow-cors \
  --log-level info \
  --session-override \
  --relaxed-security
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ— æ³•è¿æ¥åˆ°è®¾å¤‡
**A**: è¿è¡Œç¯å¢ƒæ£€æŸ¥å™¨ï¼š
```bash
python environment_checker.py
```
æˆ–ä½¿ç”¨è¿æ¥è‡ªåŠ¨ä¿®å¤ï¼š
```bash
python connection_auto_fixer.py
```

### Q: OCRè¯†åˆ«é”™è¯¯
**A**: OCRè­¦å‘Šä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼Œç¨‹åºä¸»è¦ä½¿ç”¨åæ ‡ç‚¹å‡»ã€‚å¦‚éœ€ä¼˜åŒ–ï¼Œè¯·æ›´æ–°PaddleOCRç‰ˆæœ¬ã€‚

### Q: WebDriverè¿æ¥è¶…æ—¶
**A**: 
1. ç¡®ä¿Appium Serveræ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ç«¯å£4723æ˜¯å¦è¢«å ç”¨
3. è¿è¡Œè¿æ¥è‡ªåŠ¨ä¿®å¤å·¥å…·

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

## ğŸ“ è”ç³»æ–¹å¼

- GitHub: [@kk43994](https://github.com/kk43994)
- é¡¹ç›®åœ°å€: [damai-jiaoben](https://github.com/kk43994/damai-jiaoben)

---

**æœ€åæ›´æ–°**: 2025-11-17 02:30  
**ç”Ÿæˆå·¥å…·**: Claude Code  
**æäº¤å“ˆå¸Œ**: 890b14e

---

## ğŸ“ è¯¦ç»†é…ç½®æŒ‡å—

### é…ç½®æ–‡ä»¶è¯´æ˜

é…ç½®æ–‡ä»¶ä½äº `damai_appium/config.jsonc`ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š

```jsonc
{
  // ===== è¿æ¥é…ç½® =====
  "server_url": "http://127.0.0.1:4723",  // AppiumæœåŠ¡å™¨åœ°å€
  "adb_port": "54588",                     // ADBç«¯å£å·ï¼ˆçº¢æ‰‹æŒ‡äº‘æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨ï¼‰
  
  // ===== æ¼”å‡ºä¿¡æ¯ =====
  "keyword": "æ—¶é—´éƒ½å»å“ªäº†",               // æ¼”å‡ºå…³é”®è¯ï¼ˆå¿…å¡«ï¼‰
  "city": "å¹¿å·",                          // æ¼”å‡ºåŸå¸‚ï¼ˆå¿…å¡«ï¼‰
  "date": "12æœˆ21æ—¥",                      // æ¼”å‡ºæ—¥æœŸï¼ˆå¯é€‰ï¼‰
  "price": "380",                          // ç¥¨ä»·ï¼ˆå¯é€‰ï¼‰
  
  // ===== è´­ç¥¨é…ç½® =====
  "users": ["å¼ ä¸‰", "æå››"],              // è§‚æ¼”äººåˆ—è¡¨ï¼ˆå¯é€‰ï¼Œä¸å¡«åˆ™è·³è¿‡ï¼‰
  "price_index": 1,                        // ç¥¨ä»·ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼Œé»˜è®¤é€‰æ‹©ç¬¬1ä¸ªï¼‰
  "if_commit_order": false                 // æ˜¯å¦è‡ªåŠ¨æäº¤è®¢å•ï¼ˆfalse=åœåœ¨ç¡®è®¤é¡µï¼‰
}
```

### å‚æ•°è¯¦è§£

#### 1. server_urlï¼ˆAppiumæœåŠ¡å™¨åœ°å€ï¼‰
- **é»˜è®¤å€¼**: `http://127.0.0.1:4723`
- **è¯´æ˜**: Appium Serverçš„è®¿é—®åœ°å€
- **ç¤ºä¾‹**: 
  - æœ¬åœ°: `http://127.0.0.1:4723`
  - è¿œç¨‹: `http://192.168.1.100:4723`

#### 2. adb_portï¼ˆADBç«¯å£ï¼‰
- **é»˜è®¤å€¼**: `54588`
- **è¯´æ˜**: Androidè®¾å¤‡çš„ADBç«¯å£å·
- **è·å–æ–¹æ³•**:
  ```bash
  # æŸ¥çœ‹å·²è¿æ¥è®¾å¤‡
  adb devices
  
  # è¾“å‡ºç¤ºä¾‹
  127.0.0.1:54588    device  # è¿™é‡Œçš„54588å°±æ˜¯ç«¯å£å·
  ```
- **å¸¸è§ç«¯å£**:
  - çº¢æ‰‹æŒ‡äº‘æ‰‹æœº: `54588`, `58526`, `62726` ç­‰
  - é›·ç”µæ¨¡æ‹Ÿå™¨: `5555`, `5557`, `5559` ç­‰
  - å¤œç¥æ¨¡æ‹Ÿå™¨: `62001`
  - MuMuæ¨¡æ‹Ÿå™¨: `7555`

#### 3. keywordï¼ˆæ¼”å‡ºå…³é”®è¯ï¼‰
- **å¿…å¡«**: âœ…
- **è¯´æ˜**: åœ¨å¤§éº¦Appæœç´¢æ¡†ä¸­è¾“å…¥çš„å…³é”®è¯
- **å»ºè®®**: ä½¿ç”¨æ¼”å‡ºåç§°æˆ–è‰ºäººåå­—
- **ç¤ºä¾‹**:
  - `"å‘¨æ°ä¼¦"`
  - `"äº”æœˆå¤©"`
  - `"æ—¶é—´éƒ½å»å“ªäº†"`
  - `"å¾·äº‘ç¤¾"`

#### 4. cityï¼ˆåŸå¸‚ï¼‰
- **å¿…å¡«**: âœ…
- **è¯´æ˜**: æ¼”å‡ºæ‰€åœ¨åŸå¸‚
- **æ ¼å¼**: ä¸­æ–‡åŸå¸‚åï¼ˆä¸éœ€è¦åŠ "å¸‚"ï¼‰
- **ç¤ºä¾‹**:
  - `"åŒ—äº¬"`
  - `"ä¸Šæµ·"`
  - `"å¹¿å·"`
  - `"æ·±åœ³"`
  - `"æ­å·"`

#### 5. dateï¼ˆæ—¥æœŸï¼‰
- **å¯é€‰**: å¦‚æœä¸å¡«ï¼Œä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå¯ç”¨æ—¥æœŸ
- **æ ¼å¼**: `"MMæœˆDDæ—¥"` æˆ– `"æ˜ŸæœŸX"`
- **ç¤ºä¾‹**:
  - `"12æœˆ21æ—¥"`
  - `"1æœˆ1æ—¥"`
  - `"æ˜ŸæœŸå…­"`

#### 6. priceï¼ˆç¥¨ä»·ï¼‰
- **å¯é€‰**: å¦‚æœä¸å¡«ï¼Œä¼šé€‰æ‹©é…ç½®çš„price_index
- **æ ¼å¼**: çº¯æ•°å­—æˆ–å¸¦"å…ƒ"
- **ç¤ºä¾‹**:
  - `"380"`
  - `"680å…ƒ"`
  - `"1280"`

#### 7. price_indexï¼ˆç¥¨ä»·ç´¢å¼•ï¼‰
- **é»˜è®¤å€¼**: `1`
- **è¯´æ˜**: å½“priceæœªè®¾ç½®æ—¶ï¼ŒæŒ‰ç´¢å¼•é€‰æ‹©ç¥¨æ¡£ï¼ˆä»0å¼€å§‹ï¼‰
- **ç¤ºä¾‹**:
  - `0` - é€‰æ‹©ç¬¬1æ¡£ç¥¨ä»·
  - `1` - é€‰æ‹©ç¬¬2æ¡£ç¥¨ä»·
  - `2` - é€‰æ‹©ç¬¬3æ¡£ç¥¨ä»·

#### 8. usersï¼ˆè§‚æ¼”äººåˆ—è¡¨ï¼‰
- **å¯é€‰**: ä¸å¡«åˆ™è·³è¿‡è§‚æ¼”äººé€‰æ‹©
- **æ ¼å¼**: å­—ç¬¦ä¸²æ•°ç»„
- **è¯´æ˜**: ä¼šæŒ‰é¡ºåºé€‰æ‹©è§‚æ¼”äºº
- **ç¤ºä¾‹**:
  ```jsonc
  "users": ["å¼ ä¸‰", "æå››", "ç‹äº”"]
  ```

#### 9. if_commit_orderï¼ˆæ˜¯å¦æäº¤è®¢å•ï¼‰
- **é»˜è®¤å€¼**: `false`
- **è¯´æ˜**: 
  - `false` - åœåœ¨è®¢å•ç¡®è®¤é¡µï¼Œéœ€è¦æ‰‹åŠ¨æäº¤
  - `true` - è‡ªåŠ¨ç‚¹å‡»æäº¤è®¢å•ï¼ˆè¯·è°¨æ…ä½¿ç”¨ï¼ï¼‰

---

## ğŸ”§ ç¯å¢ƒé…ç½®è¯¦ç»†æ­¥éª¤

### Windowsç¯å¢ƒ

#### 1. å®‰è£…Python
1. ä¸‹è½½Python 3.9+: https://www.python.org/downloads/
2. å®‰è£…æ—¶å‹¾é€‰ "Add Python to PATH"
3. éªŒè¯å®‰è£…:
   ```cmd
   python --version
   ```

#### 2. å®‰è£…Android SDK
1. ä¸‹è½½Android Studio: https://developer.android.com/studio
2. å®‰è£…Android SDK
3. é…ç½®ç¯å¢ƒå˜é‡:
   ```cmd
   # ç³»ç»Ÿç¯å¢ƒå˜é‡
   ANDROID_HOME=C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Local\Android\Sdk
   ANDROID_SDK_ROOT=%ANDROID_HOME%
   
   # æ·»åŠ åˆ°PATH
   %ANDROID_HOME%\platform-tools
   %ANDROID_HOME%\tools
   ```
4. éªŒè¯ADB:
   ```cmd
   adb version
   ```

#### 3. å®‰è£…Node.jså’ŒAppium
1. ä¸‹è½½Node.js 20.19.0+: https://nodejs.org/
2. å®‰è£…Appium:
   ```cmd
   npm install -g appium
   appium --version
   ```
3. å®‰è£…UiAutomator2é©±åŠ¨:
   ```cmd
   appium driver install uiautomator2
   ```

#### 4. è¿æ¥è®¾å¤‡
**çœŸæœºè¿æ¥**:
1. æ‰‹æœºå¼€å¯USBè°ƒè¯•
2. è¿æ¥USBçº¿
3. éªŒè¯: `adb devices`

**æ¨¡æ‹Ÿå™¨è¿æ¥**:
1. å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼ˆé›·ç”µ/å¤œç¥/MuMuï¼‰
2. éªŒè¯: `adb devices`

**çº¢æ‰‹æŒ‡äº‘æ‰‹æœº**:
1. åœ¨çº¢æ‰‹æŒ‡æ§åˆ¶å°æŸ¥çœ‹ADBç«¯å£
2. è¿æ¥: `adb connect 127.0.0.1:ç«¯å£å·`
3. éªŒè¯: `adb devices`

---

### macOS/Linuxç¯å¢ƒ

#### 1. å®‰è£…Homebrewï¼ˆä»…macOSï¼‰
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

#### 2. å®‰è£…ä¾èµ–
```bash
# macOS
brew install python@3.9
brew install node
brew install --cask android-platform-tools

# Linux (Ubuntu/Debian)
sudo apt update
sudo apt install python3 python3-pip nodejs npm adb

# Linux (CentOS/RHEL)
sudo yum install python3 python3-pip nodejs npm android-tools
```

#### 3. å®‰è£…Appium
```bash
npm install -g appium
appium driver install uiautomator2
```

#### 4. é…ç½®Android SDK
```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
export ANDROID_HOME=$HOME/Android/Sdk
export ANDROID_SDK_ROOT=$ANDROID_HOME
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/tools

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc  # æˆ– source ~/.zshrc
```

---

## ğŸ® ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯1: æœ¬åœ°Androidæ‰‹æœºæŠ¢ç¥¨

1. **è¿æ¥æ‰‹æœº**
   ```bash
   adb devices  # ç¡®è®¤è®¾å¤‡å·²è¿æ¥
   ```

2. **å¯åŠ¨Appium**
   ```bash
   appium
   ```

3. **é…ç½®config.jsonc**
   ```jsonc
   {
     "server_url": "http://127.0.0.1:4723",
     "adb_port": "è®¾å¤‡åºåˆ—å·",  // ä» adb devices è·å–
     "keyword": "å‘¨æ°ä¼¦æ¼”å”±ä¼š",
     "city": "åŒ—äº¬",
     "date": "12æœˆ31æ—¥",
     "price": "680"
   }
   ```

4. **è¿è¡ŒGUI**
   ```bash
   python damai_smart_ai.py
   ```

---

### åœºæ™¯2: çº¢æ‰‹æŒ‡äº‘æ‰‹æœºæŠ¢ç¥¨

1. **è·å–äº‘æ‰‹æœºä¿¡æ¯**
   - ç™»å½•çº¢æ‰‹æŒ‡æ§åˆ¶å°
   - æŸ¥çœ‹ADBè¿æ¥ç«¯å£ï¼ˆä¾‹å¦‚: 54588ï¼‰

2. **è¿æ¥äº‘æ‰‹æœº**
   ```bash
   adb connect 127.0.0.1:54588
   adb devices  # ç¡®è®¤è¿æ¥æˆåŠŸ
   ```

3. **é…ç½®config.jsonc**
   ```jsonc
   {
     "server_url": "http://127.0.0.1:4723",
     "adb_port": "54588",  // çº¢æ‰‹æŒ‡æä¾›çš„ç«¯å£
     "keyword": "äº”æœˆå¤©",
     "city": "ä¸Šæµ·"
   }
   ```

4. **å¯åŠ¨æŠ¢ç¥¨**
   ```bash
   # å¯åŠ¨Appium
   start_appium.bat
   
   # å¯åŠ¨GUI
   python damai_smart_ai.py
   ```

---

### åœºæ™¯3: æ¨¡æ‹Ÿå™¨æ‰¹é‡æµ‹è¯•

1. **å¯åŠ¨å¤šä¸ªæ¨¡æ‹Ÿå™¨å®ä¾‹**
   ```bash
   # é›·ç”µæ¨¡æ‹Ÿå™¨
   # å®ä¾‹1: ç«¯å£5555
   # å®ä¾‹2: ç«¯å£5557
   
   adb devices
   # è¾“å‡º:
   # 127.0.0.1:5555    device
   # 127.0.0.1:5557    device
   ```

2. **ä¸ºæ¯ä¸ªå®ä¾‹åˆ›å»ºé…ç½®**
   ```bash
   # config_instance1.jsonc
   {
     "server_url": "http://127.0.0.1:4723",
     "adb_port": "5555",
     "keyword": "æ¼”å‡ºA"
   }
   
   # config_instance2.jsonc
   {
     "server_url": "http://127.0.0.1:4724",  // æ³¨æ„ç«¯å£ä¸åŒ
     "adb_port": "5557",
     "keyword": "æ¼”å‡ºB"
   }
   ```

3. **å¯åŠ¨å¤šä¸ªAppiumå®ä¾‹**
   ```bash
   # ç»ˆç«¯1
   appium --port 4723
   
   # ç»ˆç«¯2
   appium --port 4724
   ```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### é—®é¢˜1: adb devicesä¸æ˜¾ç¤ºè®¾å¤‡

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. é‡å¯ADBæœåŠ¡
adb kill-server
adb start-server

# 2. æ£€æŸ¥é©±åŠ¨ï¼ˆWindowsï¼‰
# - æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨
# - æŸ¥çœ‹æ˜¯å¦æœ‰æœªè¯†åˆ«è®¾å¤‡
# - æ›´æ–°é©±åŠ¨ç¨‹åº

# 3. æ£€æŸ¥USBè°ƒè¯•ï¼ˆçœŸæœºï¼‰
# - æ‰‹æœºè®¾ç½® > å¼€å‘è€…é€‰é¡¹ > USBè°ƒè¯•ï¼ˆå¼€å¯ï¼‰
# - æ‰‹æœºè®¾ç½® > å¼€å‘è€…é€‰é¡¹ > USBå®‰è£…ï¼ˆå¼€å¯ï¼‰
```

---

### é—®é¢˜2: Appiumè¿æ¥è¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥Appiumæ˜¯å¦è¿è¡Œ
netstat -ano | findstr "4723"  # Windows
lsof -i :4723                  # macOS/Linux

# 2. æ£€æŸ¥é˜²ç«å¢™
# - å…è®¸4723ç«¯å£é€šè¿‡é˜²ç«å¢™

# 3. ä½¿ç”¨è¿æ¥è‡ªåŠ¨ä¿®å¤å·¥å…·
python connection_auto_fixer.py
```

---

### é—®é¢˜3: å¤§éº¦Appæ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ‰‹åŠ¨å®‰è£…å¤§éº¦App
adb install damai.apk

# 2. æ£€æŸ¥AppåŒ…å
adb shell pm list packages | grep damai
# åº”è¯¥æ˜¾ç¤º: package:cn.damai

# 3. æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
adb shell am start -n cn.damai/.MainActivity
```

---

### é—®é¢˜4: OCRè¯†åˆ«å¤§é‡æŠ¥é”™

**è¯´æ˜**: OCRæŠ¥é”™ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼Œç¨‹åºä¸»è¦ä½¿ç”¨åæ ‡ç‚¹å‡»ã€‚

**å¯é€‰ä¼˜åŒ–**:
```bash
# å‡çº§PaddleOCR
pip install --upgrade paddleocr paddlepaddle

# æˆ–ç¦ç”¨OCRï¼ˆä¿®æ”¹ä»£ç ï¼‰
# åœ¨ damai_smart_ai.py ä¸­æ³¨é‡Šæ‰OCRç›¸å…³ä»£ç 
```

---

## ğŸ“š æ›´å¤šèµ„æº

- [è¯¦ç»†æ›´æ–°æ—¥å¿—](./CHANGELOG.md)
- [ç‰ˆæœ¬ä¿¡æ¯](./README_VERSION.md)
- [é¡¹ç›®Wiki](https://github.com/kk43994/damai-jiaoben/wiki)ï¼ˆå¾…å»ºï¼‰

---

**é…ç½®æ–‡æ¡£æ›´æ–°æ—¶é—´**: 2025-11-17 02:35
